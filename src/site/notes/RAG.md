---
{"dg-publish":true,"permalink":"/rag/"}
---



```ad-summary
title: RAG 是什麼？

**R**etrieval-**A**gumented **G**eneration

**RAG** 是一種調整推論(Inference)結果為目標的方法。
```

![RAG Process](https://miro.medium.com/v2/resize:fit:720/format:webp/1*33zN9mJugzjcSEcV-PAhig.gif)

使用者會藉由聊天機器人(Chatbot) 詢問問題，Chatbot 在讀取人類輸入的問題後，會*搜尋知識庫*中的文件內容，並*結合提示工程* 來提供大語言模型 (LLM) 理解並回傳給使用者做為使用者問題的回應。



### 搜尋知識庫 
RAG 過程中是 *如何搜尋知識庫的？* 我們可以從**如何建立知識庫**以及**如何搜尋到想要的文件**這兩個面向來探討。

- 如何建立知識庫？

知識庫建立主要是由**文字轉換為機器看得懂的語言**，方便日後機器的查詢與檢索。而機器看得懂得語言是一大串具備**高維度的向量**組成，如何將人類語言轉換為機器看得懂的語言，在機器學習領域的術語為 **Embedding**。

Embedding 是一個演算法，可能是傳統 NLP 的 **TF-IDF** 或是 **Word2Vec** 等，但目前由於 **Transformer** 這個機器學習模型架構橫空出世後，因為其效果遠大於其他作法，所以基本上都是使用訓練好專門用於 Embedding 任務的 Transformer 模型來完成轉換。

一般來說，轉換為機器語言的文件會將其放入資料庫中，以方便系統上快速查找。還記得先前提及機器看得懂的語言為**高維度向量**嗎？所以放高維度向量的資料庫則為**向量資料庫 (Vector Database)**。

- 如何搜尋到想要的文件？

搜尋文件的方式與關鍵字搜尋相同，是以輸入問句中有提及的文字或是相近的語意進行查找。

一般資料庫會使用**索引**的機制來使得資料庫中的資料能夠被快速搜尋，同樣在向量資料庫也需要建立索引來快速尋找，向量資料庫的索引也是相同可以藉由**關鍵字**來快速搜尋。而關鍵字可以使用其他的機器學習演算法來產生。



### 結合提示工程
提示工程全名為 Prompt Engineering，是一種限定大語言模型輸出範圍的方式。隨著不同的 Prompt 能夠給予大語言模型不同的角色，控制大語言模型能夠回答出更貼近使用者所期望的領域內容。



### 大語言模型
